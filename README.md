# Лабораторная работа 3
## Алгоритмический мини-пакет (сортировки, структуры данных, генераторы, CLI)
## Уровень: Medium

- **Цель:** Реализовать базовые сортировки, стек/очередь, функции факториала и Фибоначчи, генераторы тестовых наборов и CLI с бенчмарком.
- **Поддержка key/cmp:** Все сортировки принимают `key` и `cmp` (при cmp в counting/radix/bucket используется вставочная сортировка).
- **Библиотеки:** стандартная библиотека Python, `typer` для CLI.
- **Исключения:** Стек/очередь выбрасывают `IndexError`/`ValueError` при некорректных операциях; сортировки валидируют входные данные (counting/radix только целочисленные ключи, bucket только числовые ключи).
- **Тесты:** `pytest` (покрытие 95%).

### Реализовано
- **Последовательности:** `factorial`, `factorial_recursive`, `fibo`, `fibo_recursive`.
- **Структуры данных:** `Stack` (минимум за O(1)), `Queue` на связном списке.
- **Сортировки:** `bubble_sort`, `quick_sort`, `counting_sort`, `radix_sort`, `bucket_sort` (нормализует за пределами [0, 1)), `heap_sort`.
- **Генераторы:** `rand_int_array`, `nearly_sorted`, `many_duplicates`, `reverse_sorted`, `rand_float_array`.
- **Тайминг:** `timeit_once`, `benchmark_sorts`.
- **CLI:** команды для сортировок/последовательностей/демо стека и очереди, интерактивный режим (`python -m src.main`), команда `benchmark` с параметром `--runs` (по умолчанию 100000). Вывод бенчмарка по наборам данных + среднее по алгоритмам, времена суммируются.

### Структура проекта
- `src/sorting.py` — сортировки с поддержкой `key`/`cmp`.
- `src/sequences.py` — факториалы и Фибоначчи.
- `src/data_structures.py` — стек и очередь на связном списке.
- `src/generators.py` — генераторы массивов.
- `src/benchmark.py` — измерение времени сортировок.
- `src/main.py` — CLI/интерактив, команды для всех функций и бенчмарка.
- `tests/` — pytest-тесты.

### Запуск
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

python -m src.main # интерактивный режим
python -m src.main bubble 3 1 2
python -m src.main benchmark --runs 10000

pytest --cov=src # запустить тесты с покрытием
```

### Бенчмарк
- По умолчанию `runs=100000`, суммарное время в секундах.
- Используются наборы: случайные ints, nearly sorted, many duplicates, reverse sorted, случайные floats (для неподдерживаемых алгоритмов выводится пометка).
- Вывод: блоки по каждому набору и блок "среднее время" по алгоритмам.

### Кратко о возможностях
- Сортировки работают с `key`/`cmp`.
- Bucket sort нормализует значения вне [0, 1).
- Counting/radix проверяют целочисленные ключи и поддерживают отрицательные.
- Стек/очередь выбрасывают исключения на некорректные операции.
- Тесты покрывают все основные сценарии.
